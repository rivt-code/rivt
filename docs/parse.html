
<!DOCTYPE html>


<html lang="en" data-content_root="./" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="_static/favicon-32x32.png" sizes="32x32" rel="icon" type="image/png">
    <link href="_static/favicon-16x16.png" sizes="16x16" rel="icon" type="image/png">
    <title>Module parse &#8212; rivtlib docs 0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/jquery.js?v=5d32c60e"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="_static/documentation_options.js?v=e1a75a79"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'parse';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Module tag_utf" href="tag_utf.html" />
    <link rel="prev" title="Module units" href="units.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/rivtpy64.png" class="logo__image only-light" alt="rivtlib docs 0.1 documentation - Home"/>
    <img src="_static/rivtpy64.png" class="logo__image only-dark pst-js-only" alt="rivtlib docs 0.1 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="__init__.html">
    Module init
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="units.html">
    Module units
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Module parse
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="tag_utf.html">
    Module tag_utf
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="cmd_utf.html">
    Module cmd_utf
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="tag_rst.html">
    Module tag_rst
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="cmd_rst.html">
    Module cmd_rst
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
        </div>
      
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="__init__.html">
    Module init
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="units.html">
    Module units
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Module parse
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="tag_utf.html">
    Module tag_utf
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="cmd_utf.html">
    Module cmd_utf
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="tag_rst.html">
    Module tag_rst
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="cmd_rst.html">
    Module cmd_rst
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="__init__.html">Module <strong>init</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Module units</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Module parse</a></li>
<li class="toctree-l1"><a class="reference internal" href="tag_utf.html">Module tag_utf</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmd_utf.html">Module cmd_utf</a></li>
<li class="toctree-l1"><a class="reference internal" href="tag_rst.html">Module tag_rst</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmd_rst.html">Module cmd_rst</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item"><nav class="sidebar-indices-items" aria-labelledby="pst-indices-navigation-heading-2">
  <p id="pst-indices-navigation-heading-2" class="sidebar-indices-items__title" role="heading" aria-level="1">Indices</p>
  <ul class="indices-link">
        <li class="toctree-l1">
          <a class="reference internal"
             href="genindex.html"
             accesskey="I">General Index</a>
        </li>
  </ul>
</nav></div>
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/parse.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Module parse</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rivtparse">RivtParse</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#methods">Methods</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#atable">atable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dtable">dtable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#str-parse">str_parse</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-parse">
<h1>Module parse<a class="headerlink" href="#module-parse" title="Link to this heading">#</a></h1>
<p>??? example “View Source”
import csv</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    import logging

    import re

    import sys

    import warnings

    from io import StringIO

    from pathlib import Path

    import matplotlib.image as mpimg

    import matplotlib.pyplot as plt

    import numpy.linalg as la

    import pandas as pd

    import sympy as sp

    from IPython.display import Image as _Image

    from IPython.display import display as _display

    from numpy import *

    from sympy.abc import _clash2

    from sympy.core.alphabets import greeks

    from sympy.parsing.latex import parse_latex

    from tabulate import tabulate

    from rivtlib import units

    from rivtlib import cmd_utf

    from rivtlib import cmd_rst

    from rivtlib import tag_utf

    from rivtlib import tag_rst

    # tabulate.PRESERVE_WHITESPACE = True

    

    class RivtParse:

        &quot;&quot;&quot;format rivt-strings as utf and rst files&quot;&quot;&quot;

        def __init__(self, methS, folderD, labelD,  rivtD):

            &quot;&quot;&quot; rivt-strings as utf and reST line by line

                :param dict folderD: folder paths

                :param dict labelD: numbers that increment

                :param dict outputS: output type

                :param dict outputS: output type

            &quot;&quot;&quot;

            self.rivtD = rivtD

            self.folderD = folderD  # folder paths

            self.labelD = labelD      # incrementing formats

            self.errlogP = folderD[&quot;errlogP&quot;]

            self.methS = methS

            hdrstS = &quot;&quot;&quot;&quot;&quot;&quot;

            hdreadS = &quot;&quot;&quot;&quot;&quot;&quot;

            hdutfS = &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;

            # section headings

            xmdS = xrstS = xutfS = &quot;&quot;

            rL = rS.split(&quot;\n&quot;)

            rsL = rS.split(&quot;|&quot;)              # function string as list

            titleS = rsL[0].strip()          #

            labelD[&quot;tocS&quot;] = rsL[1].strip()  # set redaction

            labelD[&quot;pageI&quot;] = int(rsL[2])    # set background color

            if rS.strip()[0:2] == &quot;--&quot;:         # omit section heading

                return &quot;\n&quot;, &quot;\n&quot;, &quot;\n&quot;

            headS = datetime.now().strftime(&quot;%Y-%m-%d | %I:%M%p&quot;) + &quot;\n&quot;

            labelD[&quot;docS&quot;] = titleS

            bordrS = labelD[&quot;widthI&quot;] * &quot;=&quot;

            hdutfS = (headS + &quot;\n&quot; + bordrS + &quot;\n&quot; + titleS + &quot;\n&quot; + bordrS + &quot;\n&quot;)

            hdmdS = (headS + &quot;\n## &quot; + titleS + &quot;\n&quot;)

            snumI = labelD[&quot;secnumI&quot;] + 1

            labelD[&quot;secnumI&quot;] = snumI

            docnumS = labelD[&quot;docnumS&quot;]

            dnumS = docnumS + &quot;-[&quot; + str(snumI) + &quot;]&quot;

            headS = dnumS + &quot; &quot; + titleS

            bordrS = labelD[&quot;widthI&quot;] * &quot;-&quot;

            hdutfS = bordrS + &quot;\n&quot; + headS + &quot;\n&quot; + bordrS + &quot;\n&quot;

            hdmdS = &quot;### &quot; + headS + &quot;\n&quot;

            hdrstS += (

                &quot;.. raw:: latex&quot;

                + &quot;   \n\n ?x?vspace{.2in} &quot;

                + &quot;   ?x?begin{tcolorbox} &quot;

                + &quot;   ?x?textbf{ &quot; + titleS + &quot;}&quot;

                + &quot;   ?x?hfill?x?textbf{SECTION &quot; + dnumS + &quot; }&quot;

                + &quot;   ?x?end{tcolorbox}&quot;

                + &quot;   \n&quot; + &quot;   ?x?newline&quot; + &quot;   ?x?vspace{.05in}&quot;

                + &quot;\n\n&quot;)

    #        print(hdutfS)

    #        return hdutfS, hdmdS, hdrstS

            utfS += hutfS

            rstS += hrstS

            # valid commands and tags

            if methS == &quot;R&quot;:

                self.cmdL = [&quot;run&quot;, &quot;process&quot;]

                self.tagsD = {&quot;link]&quot;: &quot;link&quot;, &quot;line]&quot;: &quot;line&quot;, &quot;page]&quot;: &quot;page&quot;}

            elif methS == &quot;I&quot;:

                self.cmdL = [&quot;image&quot;, &quot;table&quot;, &quot;text&quot;]

                self.tagsD = {&quot;b]&quot;: &quot;bold&quot;, &quot;i]&quot;: &quot;italic&quot;, &quot;u]&quot;: &quot;underline&quot;,

                              &quot;c]&quot;: &quot;center&quot;, &quot;r]&quot;: &quot;right&quot;,

                              &quot;e]&quot;: &quot;equation&quot;, &quot;f]&quot;: &quot;figure&quot;, &quot;t]&quot;: &quot;table&quot;,

                              &quot;#]&quot;: &quot;foot&quot;, &quot;d]&quot;: &quot;description&quot;,

                              &quot;l]&quot;: &quot;latex&quot;, &quot;s]&quot;: &quot;sympy&quot;,

                              &quot;link]&quot;: &quot;link&quot;, &quot;line]&quot;: &quot;line&quot;, &quot;page]&quot;: &quot;page&quot;,

                              &quot;[c]]&quot;: &quot;centerblk&quot;,  &quot;[p]]&quot;: &quot;plainblk&quot;,

                              &quot;[l]]&quot;: &quot;latexblk&quot;, &quot;[m]]&quot;: &quot;mathblk&quot;,

                              &quot;[o]]&quot;: &quot;codeblk&quot;, &quot;[q]]&quot;: &quot;quitblk&quot;}

            elif methS == &quot;V&quot;:

                self.cmdL = [&quot;image&quot;, &quot;table&quot;, &quot;text&quot;, &quot;assign&quot;, &quot;declare&quot;]

                self.tagsD = {&quot;e]&quot;: &quot;equation&quot;, &quot;f]&quot;: &quot;figure&quot;, &quot;t]&quot;: &quot;table&quot;,

                              &quot;#]&quot;: &quot;foot&quot;, &quot;d]&quot;: &quot;description&quot;,

                              &quot;l]&quot;: &quot;latex&quot;, &quot;s]&quot;: &quot;sympy&quot;,

                              &quot;:=&quot;: &quot;declare&quot;,  &quot;=&quot;: &quot;assign&quot;}

            elif methS == &quot;T&quot;:

                self.cmdL = []

                self.tagsD = {}

            elif methS == &quot;W&quot;:

                self.cmdL = []

                self.tagsD = {}

            else:

                pass

            modnameS = __name__.split(&quot;.&quot;)[1]

            # print(f&quot;{modnameS=}&quot;)

            logging.basicConfig(

                level=logging.DEBUG,

                format=&quot;%(asctime)-8s  &quot; + modnameS +

                &quot;   %(levelname)-8s %(message)s&quot;,

                datefmt=&quot;%m-%d %H:%M&quot;,

                filename=self.errlogP,

                filemode=&quot;w&quot;,

            )

            warnings.filterwarnings(&quot;ignore&quot;)

            # self.rivtD.update(locals())

        def str_parse(self, strL):

            &quot;&quot;&quot;parse method string line by line starting with second line

                :param list strL: split method string

                :return mdS: md formatted string

                :return rstS: reST formatted string

                :return labelD: increment references

                :return folderD: folder paths

                :rtype mdS: string

                :rtype rstS: string

                :rtype folderD: dictionary

                :rtype labelD: dictionary

            &quot;&quot;&quot;

            xutfS = &quot;&quot;&quot;&quot;&quot;&quot;      # utfS local string

            xmdS = &quot;&quot;&quot;&quot;&quot;&quot;       # mdS local string

            xrstS = &quot;&quot;&quot;&quot;&quot;&quot;      # rstS local string

            uS = &quot;&quot;&quot;&quot;&quot;&quot;         # raw local line

            blockB = False

            # table alignment

            hdrdL = [&quot;variable&quot;, &quot;value&quot;, &quot;[value]&quot;, &quot;description&quot;]

            aligndL = [&quot;left&quot;, &quot;right&quot;, &quot;right&quot;, &quot;left&quot;]

            hdraL = [&quot;variable&quot;, &quot;value&quot;, &quot;[value]&quot;, &quot;description [eq. number]&quot;]

            alignaL = [&quot;left&quot;, &quot;right&quot;, &quot;right&quot;, &quot;left&quot;]

            blockevalL = []     # current value table

            blockevalB = False  # stop accumulation of values

            vtableL = []        # value table for export

            eqL = []            # equation result table

            lineS = &quot;&quot;

            for uS in strL:

                # print(f&quot;{blockassignB=}&quot;)

                # print(f&quot;{uS=}&quot;)

                uS = uS[4:]                                # remove indent

                if blockB:                                 # accumulate block

                    lineS += uS

                    continue

                if blockB and uS.strip() == &quot;[q]]&quot;:        # end of block

                    tagS = self.tagsD[&quot;[q]&quot;]

                    rvtS = tag_utf.TagsUTF(lineS, tagS,

                                           self.labelD, self.folderD,  self.rivtD)

                    xutfS += rvtS + &quot;\n&quot;

                    rvtS = tag_md.TagsMD(lineS, tagS,

                                         self.labelD, self.folderD,  self.rivtD)

                    xmdS += rvtS + &quot;\n&quot;

                    rvtS = tag_rst.TagsRST(lineS, tagS,

                                           self.labelD, self.folderD,  self.rivtD)

                    xrstS += rvtS + &quot;\n&quot;

                    blockB = False

                if blockevalB and len(uS.strip()) &lt; 2:    # value tables

                    vtableL += blockevalL

                    if tfS == &quot;declare&quot;:

                        vutfS = self.dtable(blockevalL, hdrdL,

                                            &quot;rst&quot;, aligndL) + &quot;\n\n&quot;

                        vmdS = self.dtable(blockevalL, hdrdL,

                                           &quot;html&quot;, aligndL) + &quot;\n\n&quot;

                        xutfS += vutfS

                        xmdS += vmdS

                        xrstS += vutfS

                    if tfS == &quot;assign&quot;:

                        vutfS = self.dtable(blockevalL, hdrdL,

                                            &quot;rst&quot;, aligndL) + &quot;\n\n&quot;

                        vmdS = self.atable(blockevalL, hdraL,

                                           &quot;html&quot;, alignaL) + &quot;\n\n&quot;

                        xutfS += vutfS

                        xmdS += vmdS

                        xrstS += vutfS

                    blockevalL = []

                    blockevalB = False

                elif uS[0:2] == &quot;||&quot;:                      # commands

                    usL = uS[2:].split(&quot;|&quot;)

                    parL = usL[1:]

                    cmdS = usL[0].strip()

                    if cmdS in self.cmdL:

                        rvtC = cmd_utf.CmdUTF(

                            parL, self.labelD, self.folderD, self.rivtD)

                        utfS = rvtC.cmd_parse(cmdS)

                        # print(f&quot;{utfS=}&quot;)

                        xutfS += utfS

                        rvtC = cmd_md.CmdMD(

                            parL, self.labelD, self.folderD, self.rivtD)

                        mdS = rvtC.cmd_parse(cmdS)

                        # print(f&quot;{mdS=}&quot;)

                        xmdS += mdS

                        rvtC = cmd_rst.CmdRST(

                            parL, self.labelD, self.folderD, self.rivtD)

                        reS = rvtC.cmd_parse(cmdS)

                        xrstS += reS

                elif &quot;_[&quot; in uS:                           # line tag

                    usL = uS.split(&quot;_[&quot;)

                    lineS = usL[0]

                    tagS = usL[1].strip()

                    if tagS[0] == &quot;[&quot;:                     # block tag

                        blockB = True

                    if tagS in self.tagsD:

                        rvtC = tag_utf.TagsUTF(lineS, self.labelD, self.folderD,

                                               self.tagsD, self.rivtD)

                        utfxS = rvtC.tag_parse(tagS)

                        xutfS += utfxS + &quot;\n&quot;

                        rvtC = tag_md.TagsMD(lineS, self.labelD, self.folderD,

                                             self.tagsD, self.rivtD)

                        mdS = rvtC.tag_parse(tagS)

                        xmdS += mdS + &quot;\n&quot;

                        rvtC = tag_rst.TagsRST(lineS, self.labelD, self.folderD,

                                               self.tagsD, self.rivtD)

                        reS = rvtC.tag_parse(tagS)

                        xrstS += reS + &quot;\n&quot;

                elif &quot;=&quot; in uS and self.methS == &quot;V&quot;:       # equation tag

                    # print(f&quot;{uS=}&quot;)

                    usL = uS.split(&quot;|&quot;)

                    lineS = usL[0]

                    self.labelD[&quot;unitS&quot;] = usL[1].strip()

                    self.labelD[&quot;descS&quot;] = usL[2].strip()

                    rvtC = tag_md.TagsMD(lineS, self.labelD, self.folderD,

                                         self.localD)

                    if &quot;:=&quot; in uS:                         # declare tag

                        tfS = &quot;declare&quot;

                        blockevalL.append(rvtC.tag_parse(&quot;:=&quot;))

                        rvtC = tag_rst.TagsRST(lineS, self.labelD, self.folderD,

                                               self.localD)

                        eqL = rvtC.tag_parse(&quot;:=&quot;)

                        blockevalB = True

                        continue

                    else:

                        tfS = &quot;assign&quot;                     # assign tag

                        eqL = rvtC.tag_parse(&quot;=&quot;)

                        mdS += eqL[1]

                        blockevalL.append(eqL[0])

                        rvtC = tag_rst.TagsRST(lineS, self.labelD, self.folderD,

                                               self.localD)

                        eqL = rvtC.tag_parse(&quot;=&quot;)

                        rstS += eqL[1]

                        blockevalB = True

                        continue

                else:

                    print(uS)       # pass unformatted string

            # export values

            valP = Path(self.folderD[&quot;dataP&quot;], self.folderD[&quot;valfileS&quot;])

            with open(valP, &quot;w&quot;, newline=&quot;&quot;) as f:

                writecsv = csv.writer(f)

                writecsv.writerow(hdraL)

                writecsv.writerows(vtableL)

            return (xutfS, xmdS, xrstS,  self.labelD, self.folderD, self.rivtD)

        def atable(self, tblL, hdreL, tblfmt, alignaL):

            &quot;&quot;&quot;write assign values table&quot;&quot;&quot;

            locals().update(self.rivtD)

            valL = []

            for vaL in tblL:

                varS = vaL[0].strip()

                valS = vaL[1].strip()

                unit1S, unit2S = vaL[2], vaL[3]

                descripS = vaL[4].strip()

                if unit1S != &quot;-&quot;:

                    if type(eval(valS)) == list:

                        val1U = array(eval(valS)) * eval(unit1S)

                        val2U = [q.cast_unit(eval(unit2S)) for q in val1U]

                    else:

                        cmdS = varS + &quot;= &quot; + valS

                        exec(cmdS, globals(), locals())

                        valU = eval(varS)

                        val1U = str(valU.cast_unit(eval(unit1S)))

                        val2U = str(valU.cast_unit(eval(unit2S)))

                else:

                    cmdS = varS + &quot;= &quot; + valS

                    exec(cmdS, globals(), locals())

                    valU = eval(varS)

                    val1U = str(valU)

                    val2U = str(valU)

                valL.append([varS, val1U, val2U, descripS])

            sys.stdout.flush()

            old_stdout = sys.stdout

            output = StringIO()

            output.write(

                tabulate(

                    valL, tablefmt=tblfmt, headers=hdreL,

                    showindex=False,  colalign=alignaL))

            mdS = output.getvalue()

            sys.stdout = old_stdout

            sys.stdout.flush()

            self.localD.update(locals())

            print(&quot;\n&quot; + mdS+&quot;\n&quot;)

            return mdS

        def dtable(self, tblL, hdrvL, tblfmt, alignvL):

            &quot;&quot;&quot;write declare values table&quot;&quot;&quot;

            locals().update(self.rivtD)

            valL = []

            for vaL in tblL:

                varS = vaL[0].strip()

                valS = vaL[1].strip()

                unit1S, unit2S = vaL[2], vaL[3]

                descripS = vaL[4].strip()

                if unit1S != &quot;-&quot;:

                    if type(eval(valS)) == list:

                        val1U = array(eval(valS)) * eval(unit1S)

                        val2U = [q.cast_unit(eval(unit2S)) for q in val1U]

                    else:

                        cmdS = varS + &quot;= &quot; + valS + &quot; * &quot; + unit1S

                        exec(cmdS, globals(), locals())

                        valU = eval(varS)

                        val1U = str(valU.cast_unit(eval(unit1S)))

                        val2U = str(valU.cast_unit(eval(unit2S)))

                else:

                    cmdS = varS + &quot;= &quot; + valS

                    exec(cmdS, globals(), locals())

                    valU = eval(varS)

                    val1U = str(valU)

                    val2U = str(valU)

                valL.append([varS, val1U, val2U, descripS])

            sys.stdout.flush()

            old_stdout = sys.stdout

            output = StringIO()

            output.write(

                tabulate(

                    valL, tablefmt=tblfmt, headers=hdrvL,

                    showindex=False,  colalign=alignvL))

            mdS = output.getvalue()

            sys.stdout = old_stdout

            sys.stdout.flush()

            self.rivtD.update(locals())

            print(&quot;\n&quot; + mdS+&quot;\n&quot;)

            return mdS
</pre></div>
</div>
<section id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Link to this heading">#</a></h2>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ALLOW_THREADS</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">BUFSIZE</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">CLIP</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERR_CALL</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERR_DEFAULT</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERR_IGNORE</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERR_LOG</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERR_PRINT</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERR_RAISE</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERR_WARN</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">FLOATING_POINT_SUPPORT</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">FPE_DIVIDEBYZERO</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">FPE_INVALID</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">FPE_OVERFLOW</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">FPE_UNDERFLOW</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">False_</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Inf</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Infinity</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">MAXDIMS</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">MAY_SHARE_BOUNDS</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">MAY_SHARE_EXACT</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">NAN</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">NINF</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">NZERO</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">NaN</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">PINF</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">PZERO</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">RAISE</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">SHIFT_DIVIDEBYZERO</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">SHIFT_INVALID</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">SHIFT_OVERFLOW</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">SHIFT_UNDERFLOW</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ScalarType</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">True_</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">UFUNC_BUFSIZE_DEFAULT</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">UFUNC_PYVALS_NAME</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">WRAP</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">absolute</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">add</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arccos</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arccosh</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arcsin</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arcsinh</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arctan</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arctan2</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arctanh</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">bitwise_and</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">bitwise_not</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">bitwise_or</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">bitwise_xor</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">cbrt</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ceil</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">conj</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">conjugate</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">copysign</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">cos</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">cosh</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">deg2rad</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">degrees</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">divide</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">divmod</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">e</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">equal</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">euler_gamma</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">exp</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">exp2</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">expm1</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">fabs</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">float_power</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">floor</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">floor_divide</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">fmax</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">fmin</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">fmod</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">frexp</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">gcd</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">greater</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">greater_equal</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">greeks</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">heaviside</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">hypot</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">inf</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">infty</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">invert</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">isfinite</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">isinf</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">isnan</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">isnat</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">lcm</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ldexp</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">left_shift</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">less</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">less_equal</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">little_endian</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">log</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">log10</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">log1p</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">log2</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">logaddexp</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">logaddexp2</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">logical_and</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">logical_not</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">logical_or</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">logical_xor</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">matmul</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">maximum</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">minimum</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">mod</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">modf</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiply</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">nan</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">negative</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">newaxis</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">nextafter</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">not_equal</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">pi</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">positive</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">power</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">rad2deg</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">radians</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">reciprocal</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">remainder</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">right_shift</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">rint</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sctypeDict</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sctypes</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sign</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">signbit</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sin</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sinh</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">spacing</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sqrt</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">square</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">subtract</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">tan</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">tanh</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">tracemalloc_domain</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">true_divide</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">trunc</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">typecodes</span>
</pre></div>
</div>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">#</a></h2>
<section id="rivtparse">
<h3>RivtParse<a class="headerlink" href="#rivtparse" title="Link to this heading">#</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">RivtParse</span><span class="p">(</span>
    <span class="n">methS</span><span class="p">,</span>
    <span class="n">folderD</span><span class="p">,</span>
    <span class="n">labelD</span><span class="p">,</span>
    <span class="n">rivtD</span>
<span class="p">)</span>
</pre></div>
</div>
<p>format rivt-strings as utf and rst files</p>
<section id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="Link to this heading">#</a></h4>
</section>
<section id="atable">
<h4>atable<a class="headerlink" href="#atable" title="Link to this heading">#</a></h4>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">atable</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">tblL</span><span class="p">,</span>
    <span class="n">hdreL</span><span class="p">,</span>
    <span class="n">tblfmt</span><span class="p">,</span>
    <span class="n">alignaL</span>
<span class="p">)</span>
</pre></div>
</div>
<p>write assign values table</p>
<p>??? example “View Source”
def atable(self, tblL, hdreL, tblfmt, alignaL):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>            &quot;&quot;&quot;write assign values table&quot;&quot;&quot;

            locals().update(self.rivtD)

            valL = []

            for vaL in tblL:

                varS = vaL[0].strip()

                valS = vaL[1].strip()

                unit1S, unit2S = vaL[2], vaL[3]

                descripS = vaL[4].strip()

                if unit1S != &quot;-&quot;:

                    if type(eval(valS)) == list:

                        val1U = array(eval(valS)) * eval(unit1S)

                        val2U = [q.cast_unit(eval(unit2S)) for q in val1U]

                    else:

                        cmdS = varS + &quot;= &quot; + valS

                        exec(cmdS, globals(), locals())

                        valU = eval(varS)

                        val1U = str(valU.cast_unit(eval(unit1S)))

                        val2U = str(valU.cast_unit(eval(unit2S)))

                else:

                    cmdS = varS + &quot;= &quot; + valS

                    exec(cmdS, globals(), locals())

                    valU = eval(varS)

                    val1U = str(valU)

                    val2U = str(valU)

                valL.append([varS, val1U, val2U, descripS])

            sys.stdout.flush()

            old_stdout = sys.stdout

            output = StringIO()

            output.write(

                tabulate(

                    valL, tablefmt=tblfmt, headers=hdreL,

                    showindex=False,  colalign=alignaL))

            mdS = output.getvalue()

            sys.stdout = old_stdout

            sys.stdout.flush()

            self.localD.update(locals())

            print(&quot;\n&quot; + mdS+&quot;\n&quot;)

            return mdS
</pre></div>
</div>
</section>
<section id="dtable">
<h4>dtable<a class="headerlink" href="#dtable" title="Link to this heading">#</a></h4>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">dtable</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">tblL</span><span class="p">,</span>
    <span class="n">hdrvL</span><span class="p">,</span>
    <span class="n">tblfmt</span><span class="p">,</span>
    <span class="n">alignvL</span>
<span class="p">)</span>
</pre></div>
</div>
<p>write declare values table</p>
<p>??? example “View Source”
def dtable(self, tblL, hdrvL, tblfmt, alignvL):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>            &quot;&quot;&quot;write declare values table&quot;&quot;&quot;

            locals().update(self.rivtD)

            valL = []

            for vaL in tblL:

                varS = vaL[0].strip()

                valS = vaL[1].strip()

                unit1S, unit2S = vaL[2], vaL[3]

                descripS = vaL[4].strip()

                if unit1S != &quot;-&quot;:

                    if type(eval(valS)) == list:

                        val1U = array(eval(valS)) * eval(unit1S)

                        val2U = [q.cast_unit(eval(unit2S)) for q in val1U]

                    else:

                        cmdS = varS + &quot;= &quot; + valS + &quot; * &quot; + unit1S

                        exec(cmdS, globals(), locals())

                        valU = eval(varS)

                        val1U = str(valU.cast_unit(eval(unit1S)))

                        val2U = str(valU.cast_unit(eval(unit2S)))

                else:

                    cmdS = varS + &quot;= &quot; + valS

                    exec(cmdS, globals(), locals())

                    valU = eval(varS)

                    val1U = str(valU)

                    val2U = str(valU)

                valL.append([varS, val1U, val2U, descripS])

            sys.stdout.flush()

            old_stdout = sys.stdout

            output = StringIO()

            output.write(

                tabulate(

                    valL, tablefmt=tblfmt, headers=hdrvL,

                    showindex=False,  colalign=alignvL))

            mdS = output.getvalue()

            sys.stdout = old_stdout

            sys.stdout.flush()

            self.rivtD.update(locals())

            print(&quot;\n&quot; + mdS+&quot;\n&quot;)

            return mdS
</pre></div>
</div>
</section>
<section id="str-parse">
<h4>str_parse<a class="headerlink" href="#str-parse" title="Link to this heading">#</a></h4>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">str_parse</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">strL</span>
<span class="p">)</span>
</pre></div>
</div>
<p>parse method string line by line starting with second line</p>
<p><strong>Parameters:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>strL</p></td>
<td><p>list</p></td>
<td><p>split method string</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Returns:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>mdS</p></td>
<td><p>md formatted string</p></td>
</tr>
</tbody>
</table>
</div>
<p>??? example “View Source”
def str_parse(self, strL):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>            &quot;&quot;&quot;parse method string line by line starting with second line

                :param list strL: split method string

                :return mdS: md formatted string

                :return rstS: reST formatted string

                :return labelD: increment references

                :return folderD: folder paths

                :rtype mdS: string

                :rtype rstS: string

                :rtype folderD: dictionary

                :rtype labelD: dictionary

            &quot;&quot;&quot;

            xutfS = &quot;&quot;&quot;&quot;&quot;&quot;      # utfS local string

            xmdS = &quot;&quot;&quot;&quot;&quot;&quot;       # mdS local string

            xrstS = &quot;&quot;&quot;&quot;&quot;&quot;      # rstS local string

            uS = &quot;&quot;&quot;&quot;&quot;&quot;         # raw local line

            blockB = False

            # table alignment

            hdrdL = [&quot;variable&quot;, &quot;value&quot;, &quot;[value]&quot;, &quot;description&quot;]

            aligndL = [&quot;left&quot;, &quot;right&quot;, &quot;right&quot;, &quot;left&quot;]

            hdraL = [&quot;variable&quot;, &quot;value&quot;, &quot;[value]&quot;, &quot;description [eq. number]&quot;]

            alignaL = [&quot;left&quot;, &quot;right&quot;, &quot;right&quot;, &quot;left&quot;]

            blockevalL = []     # current value table

            blockevalB = False  # stop accumulation of values

            vtableL = []        # value table for export

            eqL = []            # equation result table

            lineS = &quot;&quot;

            for uS in strL:

                # print(f&quot;{blockassignB=}&quot;)

                # print(f&quot;{uS=}&quot;)

                uS = uS[4:]                                # remove indent

                if blockB:                                 # accumulate block

                    lineS += uS

                    continue

                if blockB and uS.strip() == &quot;[q]]&quot;:        # end of block

                    tagS = self.tagsD[&quot;[q]&quot;]

                    rvtS = tag_utf.TagsUTF(lineS, tagS,

                                           self.labelD, self.folderD,  self.rivtD)

                    xutfS += rvtS + &quot;\n&quot;

                    rvtS = tag_md.TagsMD(lineS, tagS,

                                         self.labelD, self.folderD,  self.rivtD)

                    xmdS += rvtS + &quot;\n&quot;

                    rvtS = tag_rst.TagsRST(lineS, tagS,

                                           self.labelD, self.folderD,  self.rivtD)

                    xrstS += rvtS + &quot;\n&quot;

                    blockB = False

                if blockevalB and len(uS.strip()) &lt; 2:    # value tables

                    vtableL += blockevalL

                    if tfS == &quot;declare&quot;:

                        vutfS = self.dtable(blockevalL, hdrdL,

                                            &quot;rst&quot;, aligndL) + &quot;\n\n&quot;

                        vmdS = self.dtable(blockevalL, hdrdL,

                                           &quot;html&quot;, aligndL) + &quot;\n\n&quot;

                        xutfS += vutfS

                        xmdS += vmdS

                        xrstS += vutfS

                    if tfS == &quot;assign&quot;:

                        vutfS = self.dtable(blockevalL, hdrdL,

                                            &quot;rst&quot;, aligndL) + &quot;\n\n&quot;

                        vmdS = self.atable(blockevalL, hdraL,

                                           &quot;html&quot;, alignaL) + &quot;\n\n&quot;

                        xutfS += vutfS

                        xmdS += vmdS

                        xrstS += vutfS

                    blockevalL = []

                    blockevalB = False

                elif uS[0:2] == &quot;||&quot;:                      # commands

                    usL = uS[2:].split(&quot;|&quot;)

                    parL = usL[1:]

                    cmdS = usL[0].strip()

                    if cmdS in self.cmdL:

                        rvtC = cmd_utf.CmdUTF(

                            parL, self.labelD, self.folderD, self.rivtD)

                        utfS = rvtC.cmd_parse(cmdS)

                        # print(f&quot;{utfS=}&quot;)

                        xutfS += utfS

                        rvtC = cmd_md.CmdMD(

                            parL, self.labelD, self.folderD, self.rivtD)

                        mdS = rvtC.cmd_parse(cmdS)

                        # print(f&quot;{mdS=}&quot;)

                        xmdS += mdS

                        rvtC = cmd_rst.CmdRST(

                            parL, self.labelD, self.folderD, self.rivtD)

                        reS = rvtC.cmd_parse(cmdS)

                        xrstS += reS

                elif &quot;_[&quot; in uS:                           # line tag

                    usL = uS.split(&quot;_[&quot;)

                    lineS = usL[0]

                    tagS = usL[1].strip()

                    if tagS[0] == &quot;[&quot;:                     # block tag

                        blockB = True

                    if tagS in self.tagsD:

                        rvtC = tag_utf.TagsUTF(lineS, self.labelD, self.folderD,

                                               self.tagsD, self.rivtD)

                        utfxS = rvtC.tag_parse(tagS)

                        xutfS += utfxS + &quot;\n&quot;

                        rvtC = tag_md.TagsMD(lineS, self.labelD, self.folderD,

                                             self.tagsD, self.rivtD)

                        mdS = rvtC.tag_parse(tagS)

                        xmdS += mdS + &quot;\n&quot;

                        rvtC = tag_rst.TagsRST(lineS, self.labelD, self.folderD,

                                               self.tagsD, self.rivtD)

                        reS = rvtC.tag_parse(tagS)

                        xrstS += reS + &quot;\n&quot;

                elif &quot;=&quot; in uS and self.methS == &quot;V&quot;:       # equation tag

                    # print(f&quot;{uS=}&quot;)

                    usL = uS.split(&quot;|&quot;)

                    lineS = usL[0]

                    self.labelD[&quot;unitS&quot;] = usL[1].strip()

                    self.labelD[&quot;descS&quot;] = usL[2].strip()

                    rvtC = tag_md.TagsMD(lineS, self.labelD, self.folderD,

                                         self.localD)

                    if &quot;:=&quot; in uS:                         # declare tag

                        tfS = &quot;declare&quot;

                        blockevalL.append(rvtC.tag_parse(&quot;:=&quot;))

                        rvtC = tag_rst.TagsRST(lineS, self.labelD, self.folderD,

                                               self.localD)

                        eqL = rvtC.tag_parse(&quot;:=&quot;)

                        blockevalB = True

                        continue

                    else:

                        tfS = &quot;assign&quot;                     # assign tag

                        eqL = rvtC.tag_parse(&quot;=&quot;)

                        mdS += eqL[1]

                        blockevalL.append(eqL[0])

                        rvtC = tag_rst.TagsRST(lineS, self.labelD, self.folderD,

                                               self.localD)

                        eqL = rvtC.tag_parse(&quot;=&quot;)

                        rstS += eqL[1]

                        blockevalB = True

                        continue

                else:

                    print(uS)       # pass unformatted string

            # export values

            valP = Path(self.folderD[&quot;dataP&quot;], self.folderD[&quot;valfileS&quot;])

            with open(valP, &quot;w&quot;, newline=&quot;&quot;) as f:

                writecsv = csv.writer(f)

                writecsv.writerow(hdraL)

                writecsv.writerows(vtableL)

            return (xutfS, xmdS, xrstS,  self.labelD, self.folderD, self.rivtD)
</pre></div>
</div>
</section>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="units.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Module units</p>
      </div>
    </a>
    <a class="right-next"
       href="tag_utf.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Module tag_utf</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rivtparse">RivtParse</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#methods">Methods</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#atable">atable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dtable">dtable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#str-parse">str_parse</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By rholland
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023 StructureLabs.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023 StructureLabs.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>